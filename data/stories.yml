version: "3.1"

stories:
  - story: greet and log cycle
    steps:
      - intent: greet
      - action: utter_greet
      - intent: log_menstrual_cycle
      - action: utter_ask_start_date
      - intent: inform
        entities:
          - start_date
      - action: utter_ask_end_date
      - intent: inform
        entities:
          - end_date
      - action: utter_ask_cycle_duration
      - intent: inform
        entities:
          - cycle_duration
      - action: utter_ask_period_duration
      - intent: inform
        entities:
          - period_duration
      - action: action_log_menstrual_cycle

  - story: happy path
    steps:
      - intent: greet
      - action: utter_greet

# Action for handling mood
  - story: handle mood unhappy
    steps:
      - intent: mood_unhappy
      - action: utter_ask_mood
      - intent: affirm
      - action: utter_inform_mood
      - intent: inform
      - action: utter_acknowledge_mood

  - story: handle reproductive health query
    steps:
      - intent: ask_reproductive_health
      - action: action_query_wikipedia
      - action: action_query_gpt4
      - action: utter_provide_information

  - story: handle medication query
    steps:
      - intent: ask_medication
  
# handles head questions and answers
  - story: head main
    steps:
      - intent: head_symptom
      - action: utter_day
      - intent: day
      - action: utter_head_symptom

  - story: headache whole
    steps:
      - intent: head_whole
      - action: utter_head_whole_response
      - action: utter_did_that_help 

  - story: headache side
    steps:
      - intent: head_sides
      - action: utter_head_sides_response
      - action: utter_did_that_help

  - story: headache crown
    steps:
      - intent: head_crown
      - action: utter_head_crown_response
      - action: utter_did_that_help

  - story: headache eyes
    steps:
      - intent: head_eyes
      - action: utter_head_eyes_response
      - action: utter_did_that_help

# handles flu questions and answers
  - story: flu
    steps:
      - intent: flu_symptom
      - action: utter_day
      - intent: day
      - action: utter_flu_response
      - action: utter_did_that_help

# handles vision questions and answers
  - story: dry vision
    steps:
      - intent: vision_symptom
      - action: utter_day
      - intent: day
      - action: utter_vision_types
      - intent: affirm
      - action: utter_dry_eyes_response
      - action: utter_did_that_help

  - story: allergy vision
    steps:
      - intent: vision_symptom
      - action: utter_day
      - intent: day
      - action: utter_vision_types
      - intent: deny
      - action: utter_allergy_eyes_response
      - action: utter_did_that_help

# handles stomach-ache questions and answers
  - story: stomach ache acid yes
    steps:
      - intent: stomach_symptom
      - action: utter_day
      - intent: day
      - action: utter_head_stomach_symptom
      - intent: affirm
      - action: utter_head_stomach_response
      - action: utter_did_that_help

  - story: gas stomach no
    steps:
      - intent: stomach_symptom
      - action: utter_day
      - intent: day
      - action: utter_head_stomach_symptom
      - intent: deny
      - action: utter_stomach_types
      - intent: affirm
      - action: utter_gas_response
      - action: utter_did_that_help

  - story: poison stomach
    steps:
      - intent: stomach_symptom
      - action: utter_day
      - intent: day
      - action: utter_head_stomach_symptom
      - intent: deny
      - action: utter_stomach_types
      - intent: deny
      - action: utter_poison_response
      - action: utter_did_that_help
