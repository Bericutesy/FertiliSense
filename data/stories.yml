version: "3.1"

stories:
  - story: log cycle
    steps:
      - intent: log_menstrual_cycle
      - action: utter_ask_start_date
      - intent: inform
        entities:
          - start_date
      - action: utter_ask_end_date
      - intent: inform
        entities:
          - end_date
      - action: utter_ask_cycle_duration
      - intent: inform
        entities:
          - cycle_duration
      - action: utter_ask_period_duration
      - intent: inform
        entities:
          - period_duration
      - action: action_log_menstrual_cycle

  - story: happy path
    steps:
      - intent: greet
      - action: utter_greet

# Action for handling mood
  - story: handle mood unhappy
    steps:
      - intent: mood_unhappy
      - action: utter_ask_mood
      - intent: affirm
      - action: utter_inform_mood
      - intent: mood_answer
      - action: utter_acknowledge_mood

  - story: handle mood unhappy
    steps:
      - intent: mood_unhappy
      - action: utter_ask_mood
      - intent: deny
      - action: utter_acknowledge_mood

  - story: handle reproductive health query
    steps:
      - intent: ask_reproductive_health
      - action: action_query_wikipedia
      - action: action_query_gpt4
      - action: utter_provide_information

  - story: handle medication query
    steps:
      - intent: ask_reproductive_health 
  
# handles head questions and answers
  - story: head main
    steps:
      - intent: head_symptom
      - action: utter_day
      - intent: day
      - action: utter_head_symptom

  - story: headache whole
    steps:
      - intent: head_whole
      - action: utter_head_whole_response
      - action: utter_did_that_help 

  - story: headache side
    steps:
      - intent: head_sides
      - action: utter_head_sides_response
      - action: utter_did_that_help

  - story: headache crown
    steps:
      - intent: head_crown
      - action: utter_head_crown_response
      - action: utter_did_that_help

  - story: headache eyes
    steps:
      - intent: head_eyes
      - action: utter_head_eyes_response
      - action: utter_did_that_help

# handles flu questions and answers
  - story: flu
    steps:
      - intent: flu_symptom
      - action: utter_day
      - intent: day
      - action: utter_flu_response
      - action: utter_did_that_help

# handles vision questions and answers
  - story: dry vision
    steps:
      - intent: vision_symptom
      - action: utter_day
      - intent: day
      - action: utter_vision_types
      - intent: affirm
      - action: utter_dry_eyes_response
      - action: utter_did_that_help

  - story: allergy vision
    steps:
      - intent: vision_symptom
      - action: utter_day
      - intent: day
      - action: utter_vision_types
      - intent: deny
      - action: utter_allergy_eyes_response
      - action: utter_did_that_help

# handles stomach-ache questions and answers
  - story: stomach ache acid yes
    steps:
      - intent: stomach_symptom
      - action: utter_day
      - intent: day
      - action: utter_head_stomach_symptom
      - intent: affirm
      - action: utter_head_stomach_response
      - action: utter_did_that_help

  - story: gas stomach no
    steps:
      - intent: stomach_symptom
      - action: utter_day
      - intent: day
      - action: utter_head_stomach_symptom
      - intent: deny
      - action: utter_stomach_types
      - intent: affirm
      - action: utter_gas_response
      - action: utter_did_that_help

  - story: poison stomach
    steps:
      - intent: stomach_symptom
      - action: utter_day
      - intent: day
      - action: utter_head_stomach_symptom
      - intent: deny
      - action: utter_stomach_types
      - intent: deny
      - action: utter_poison_response
      - action: utter_did_that_help

# handles lifestyles and fertility of men questions and answers
  - story: lifestyle men yes
    steps:
      - intent: lifestyle_men
      - action: utter_nine_life_style_men
      - action: utter_explain_each_detail
      - intent: affirm
      - action: utter_explain_lose_excess_weight
      - action: utter_explain_stop_smoking
      - action: utter_explain_cut_back_alcohol
      - action: utter_explain_avoid_recreational_drugs
      - action: utter_explain_do_regular_exercise
      - action: utter_explain_manage_stress
      - action: utter_explain_keep_an_eye_on_temperature
      - action: utter_explain_eat_healthy_diet
      - action: utter_explain_talk_to_your_gp
      - action: utter_did_that_help

  - story: lifestyle men no
    steps:
      - intent: lifestyle_men
      - action: utter_nine_life_style_men
      - action: utter_explain_each_detail
      - intent: deny
      - action: utter_did_that_help

# handles itchy testicles questions and answers
  - story: itchy testicles yes
    steps:
      - intent: itchy_testicles
      - action: utter_men_itchy_testicles
      - action: utter_explain_each_detail
      - intent: affirm
      - action: utter_pre_exam_discussion
      - action: utter_getting_ready
      - action: utter_positioning
      - action: utter_the_exam
      - action: utter_checking_the_prostate
      - action: utter_finishing_up
      - action: utter_did_that_help

  - story: itchy testicles no
    steps:
      - intent: itchy_testicles
      - action: utter_men_itchy_testicles
      - action: utter_explain_each_detail
      - intent: deny
      - action: utter_did_that_help

# handles common causes questions and answers
  - story: common causes yes
    steps:
      - intent: common_causes
      - action: utter_common_causes
      - action: utter_explain_each_detail
      - intent: affirm
      - action: utter_trauma
      - action: utter_orchitis
      - action: utter_epididymal_cysts
      - action: utter_hernias
      - action: utter_kidney_stones
      - action: utter_varicoceles
      - action: utter_epididymitis
      - action: utter_genital_thrush
      - action: utter_eczema_and_psoriasis
      - action: utter_scabies
      - action: utter_did_that_help

  - story: common causes no
    steps:
      - intent: common_causes
      - action: utter_common_causes
      - action: utter_explain_each_detail
      - intent: deny
      - action: utter_did_that_help